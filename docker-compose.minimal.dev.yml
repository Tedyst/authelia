version: '2'
services:
  authelia:
    build:
      context: .
      dockerfile: Dockerfile.dev
    restart: always
    volumes:
      - ./package.json:/usr/app/package.json
      - ./server:/usr/app/server
      - ./shared:/usr/app/shared
      - ./config.template.yml:/usr/app/config.yml:ro
      - /tmp/authelia:/tmp/authelia
      - ./users_database.yml:/etc/authelia/users_database.yml
    environment:
      - NODE_TLS_REJECT_UNAUTHORIZED=0
    depends_on: 
      - redis
    networks:
      - example-network
